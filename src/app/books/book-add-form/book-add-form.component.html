<div class="title">Adding a new book</div>
<div class="container">
    <div class="form-container">
        <form class="form" [formGroup]="addBookForm" (ngSubmit)="onSubmit()">

            <label for="title">Title: </label>
            <br />
            <input id="title" type="text" formControlName="title">
            <div  class="error-div">
                <div class="error" *ngIf="addBookForm.get('title')?.errors?.required && submitFailed">
                    Title is required.
                </div>
            </div>
            <label for="description">Description: </label>
            <br />
            <textarea id="description" type="text" formControlName="description" style="resize: none;"></textarea>
            <br />
            <label for="authors">Authors: </label>
            <div>
                <ng-select [items]="authors" [multiple]="true" [(ngModel)]="selectedAuthors"
                    placeholder="Select authors" [ngModelOptions]="{standalone:true}" bindLabel="fullName">
                </ng-select>
            </div>
            <div class="new-author-div">
                <button type="button" (click)="newAuthor()">
                    New Author
                </button>
            </div>
            <label for="creationDate">Creation Date: </label>
            <br />
            <input id="creationDate" type="date" formControlName="creationDate">
            <br />
            <div class="error-div">
                <div class="error" *ngIf="addBookForm.get('creationDate')?.errors?.required && submitFailed">
                    Date is required.
                </div>
            </div>
            <label for="isbn">ISBN: </label>
            <br />
            <input id="isbn" type="text" formControlName="isbn" [pattern]="isbnReg">
            <br />
            <div class="error-div">
                <div class="error" *ngIf="addBookForm.get('isbn')?.errors && submitFailed">
                    ISBN is invalid
                </div>
            </div>
            <label for="quantity">Quantity: </label>
            <br />
            <input id="quantity" type="number" formControlName="quantity">
            <br />
            <label for="imageUrl">Url of image: </label>
            <br />
            <input id="imageUrl" type="text" formControlName="imageUrl">
            <br />
            <div class="button-holder">
                <span>
                    <button class="submit-button" type="submit" >Add</button>
                </span>
            </div>
        </form>
    </div>
    <div class="image-container">
        <img [src] = "this.addBookForm.get('imageUrl')!.value"  onerror="this.src='assets/img/default.png';">
    </div>
</div>